import { Modal } from './Modal';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import * as stories from './Modal.stories';

<Meta title="Core" component={Modal} parameters={{ jest: ['Modal.test.tsx'] }} />

# Modal

Basic modal component. You can play with the component in the canvas tab.

Modal consists of three sections Header, Content and Actions. All of these you can directly use from Modal component only like bellow . . .

```typescript
<Modal open={openState} onCloseModal={changeModalState(false)}>
    <Modal.Header>Add User</Modal.Header>
    <Modal.Content>
        <Input id="name-input" type="text" fullWidth label="Name" placeholder="Enter your Name" />
    </Modal.Content>
    <Modal.Actions>
        <Button variant="outlined">Add User</Button>
    </Modal.Actions>
</Modal>
```

Shadow will apear on the Header & Actions section if you scroll the content.
To close the modal you can perform below actions:

1. Click on the cross icon
2. Press `Esc` key
3. If you have provided `shouldCloseOnOutsideClick` this prop then modal will close on clicking outside of modal

<Preview withToolbar>
    <Story name="Modal">{stories.Basic()}</Story>
</Preview>

> **Note**: If you are writting unit test for modal component and want to test whether it is unmounted on closing it, then you will also have to fire animationEnd event. See the example below:

```tsx
it('should un mount the modal on click on close icon', async () => {
    const Component = () => {
        const [open, setOpen] = useState(true),
            handleModalClose = () => setOpen(false);

        return (
            <Modal open={open} onCloseModal={handleModalClose}>
                <Modal.Header>
                    <p>Demo Header</p>
                </Modal.Header>
                <Modal.Content>Lorem Ipsum is simply dummy text</Modal.Content>
                <Modal.Actions>Demo Actions</Modal.Actions>
            </Modal>
        );
    };
    const { container } = render(<Component />),
        modal = container.querySelector('#medly-modal-popup');
    fireEvent.click(container.querySelector('#medly-modal-close-button'));
    fireEvent.animationEnd(modal);
    await waitFor(() => expect(modal).not.toBeInTheDocument());
});
```

### Props

<Props of={Modal} />

### Modal Action Props

<Props of={stories.ModalActionProps} />

### ModalTheme

<Props of={stories.ThemeInterface} />
